#!/usr/bin/env php
<?php

require "app/Core/kernel.php";
require __DIR__ . '/../../vendor/autoload.php';
use Symfony\Component\Console\Application;
use App\Core\Logs\Logger;

try {
	$app = new Application("App Console", "0.1");

	// ... register commands
	$list_commands = [
		"App\Commands\SeedCommand",
		"App\Commands\SearchAWS",
		"App\Commands\QueueAWS",
		"App\Commands\MasivaAWS",
		"App\Commands\MasivaML",
		"App\Commands\ListingEbay",
		"App\Commands\ProcessSaveProductEbay",
		"App\Commands\EbayUpdateDescripcionPrictures",
		"App\Commands\ProductEbayUpdateStock",
		"App\Commands\SendEmail",
		"App\Commands\InventoryEbay",
		"App\Commands\MasivaEbay",
		// "App\Commands\DeleteProductEbay",
	];
	foreach ($list_commands as $class) {
		if (class_exists($class)) {
			$app->add(new $class);
		}
	}

	$app->run();
} catch (Exception $e) {
    $errorString = "\n".$e->getTraceAsString();
    echo $errorString;
    Logger::error($errorString,"error_fatal");
}

